/*! farvardin.js - v1.0.2 - 2020-06-07
* https://rapidcode.ir
* Copyright (c) 2020 senior-x-79; Licensed MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).farvardin=t()}(this,function(){"use strict";var e={1:31,2:31,3:31,4:31,5:31,6:31,7:30,8:30,9:30,10:30,11:30,12:29},t={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},n=function(e){return e%4==0&&e%100!=0||e%400==0},r=function(e){return e%4==0&&e%100!=0||e%400==0},i=function(e,t,n){var r=0;for(var i in e)if(i<=t){var a=e[i];n&&12==i&&(a+=1),r+=a}return r},a=function(e,a,o){var f=e-979,s=a-1,u=o-1,c=365*f+parseInt(f/33)*8+parseInt((f%33+3)/4),d=0;return d+=i(e,s,!1),d+=u,{dayOfYear:d+=c+226899,leapYear:r(e),daysInMonth:function(t){var r=e[t];return 12==t&&n(e)&&(r+=1),r}}},o=function(e,n,r){var a=e-1,o=n-1,f=r-1,s=365*a+parseInt(a/4)-parseInt(a/100)+parseInt(a/400),u=0;return u+=i(t,o,!1),u+=f,{dayOfYear:u+=s,leapYear:n(e),daysInMonth:function(e){var n=t[e];return 2==e&&r(a)&&(n+=1),n}}},f=function(e){var t=e.dayOfYear,n=1,r=0;for(var i in e)if("dayOfYear"!=i&&"leapYear"!=i&&"daysInMonth"!=i){var a=e.daysInMonth(n);if(t<=a){r=t;break}t-=a,n+=1}return{year:e.year,month:n,day:r}};return{solarToGregorian:function(t,n,r,i){if(void 0===i&&(i="array"),t<1||n<1||n>12||r<1||r>31)return"Invalid Input";var s=a(t,n,r),u=s.dayOfYear-79,c=1600+parseInt(u/146097)*400,d=u%146097,l=parseInt(d/36524),v=d%36524,h=parseInt(v/1461),y=v%1461,p=parseInt(y/365),g=400*parseInt(u/146097)+100*l+4*h+p;(l==4||p==4)&&(g-=1);var m=o(c+g,1,1),b=m.dayOfYear+u-parseInt((c+g-1)/4)+parseInt((c+g-1)/100)-parseInt((c+g-1)/400)+79,I=f({dayOfYear:b,daysInMonth:function(e){var n=t[e];return 2==e&&r(c+g)&&(n+=1),n},year:c+g}),M=I.year,x=I.month,w=I.day;if("array"==i)return[M,x,w];if("string"==i)return M+"-"+(x<=9?"0"+x:x)+"-"+(w<=9?"0"+w:w);if("object"==i)return{year:M,month:x,day:w};if("json"==i)return JSON.stringify({year:M,month:x,day:w});throw"Invalid Type"},gregorianToSolar:function(t,n,r,i){if(void 0===i&&(i="array"),t<1||n<1||n>12||r<1||r>31)return"Invalid Input";var s=o(t,n,r),u=s.dayOfYear+79,c=1600+parseInt(u/146097)*400,d=u%146097,l=parseInt(d/36524),v=d%36524,h=parseInt(v/1461),y=v%1461,p=parseInt(y/365),g=400*parseInt(u/146097)+100*l+4*h+p;(l==4||p==4)&&(g-=1);var m=a(c+g,1,1),b=m.dayOfYear+u-parseInt((c+g-1)/4)+parseInt((c+g-1)/100)-parseInt((c+g-1)/400)-79,I=f({dayOfYear:b,daysInMonth:function(t){var n=e[t];return 12==t&&r(c+g)&&(n+=1),n},year:c+g}),M=I.year-2000+979,x=I.month,w=I.day;if("array"==i)return[M,x,w];if("string"==i)return M+"-"+(x<=9?"0"+x:x)+"-"+(w<=9?"0"+w:w);if("object"==i)return{year:M,month:x,day:w};if("json"==i)return JSON.stringify({year:M,month:x,day:w});throw"Invalid Type"}}});
